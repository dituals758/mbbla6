<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#34C759">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>–ö—Ä—è–∫–ë—é–¥–∂–µ—Ç</title>
  <link rel="stylesheet" href="./styles.css">
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" href="./icon-192.png" type="image/png">
</head>
<body>
  <div class="status-bar" aria-hidden="true"></div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω -->
  <div class="screen active" id="mainScreen">
    <header class="header">
      <div class="logo-container">
        <h1 class="logo">ü¶Ü –ö—Ä—è–∫–ë—é–¥–∂–µ—Ç</h1>
        <p class="slogan">–ó–∞–ø–∏—à–∏ —Ñ–∏–Ω–∞–Ω—Å—ã, –ø–æ–∫–∞ —Ç–≤–æ–π –±—é–¥–∂–µ—Ç –Ω–µ –∫—Ä—è–∫–Ω—É–ª!</p>
      </div>
      <div class="balance-card">
        <span class="symbol">‚ÇΩ</span>
        <span id="currentBalance">0,00 ‚ÇΩ</span>
      </div>
    </header>

    <form class="form-container" onsubmit="event.preventDefault(); App.addTransaction()">
      <label class="input-label" for="amount">–°—É–º–º–∞</label>
      <input 
        type="text" 
        id="amount"
        class="ios-input"
        inputmode="decimal"
        pattern="^\d+([,]\d{1,2})?$"
        placeholder="0,00"
        required
        aria-describedby="amountHint">
      <div id="amountHint" class="hint-text">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø—è—Ç—É—é –¥–ª—è –∫–æ–ø–µ–µ–∫</div>

      <label class="input-label" for="type">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
      <select id="type" class="ios-select">
        <option value="income">–î–æ—Ö–æ–¥</option>
        <option value="expense">–†–∞—Å—Ö–æ–¥</option>
      </select>

      <label class="input-label" for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
      <select id="category" class="ios-select"></select>

      <button type="submit" class="ios-button">
        <span class="button-content">
          <span class="button-icon">‚ûï</span>
          –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
        </span>
        <span class="progress-bar"></span>
      </button>
    </form>
  </div>

  <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
  <div class="screen" id="statsScreen">
    <div class="stats-header">
      <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
      <div class="period-selectors">
        <select id="yearSelect" class="ios-select" onchange="App.loadStats()">
          <option value="all">–í—Å–µ –≥–æ–¥—ã</option>
        </select>
        <select id="monthSelect" class="ios-select" onchange="App.loadStats()">
          <option value="all">–í—Å–µ –º–µ—Å—è—Ü—ã</option>
          <option value="01">–Ø–Ω–≤–∞—Ä—å</option>
          <option value="02">–§–µ–≤—Ä–∞–ª—å</option>
          <option value="03">–ú–∞—Ä—Ç</option>
          <option value="04">–ê–ø—Ä–µ–ª—å</option>
          <option value="05">–ú–∞–π</option>
          <option value="06">–ò—é–Ω—å</option>
          <option value="07">–ò—é–ª—å</option>
          <option value="08">–ê–≤–≥—É—Å—Ç</option>
          <option value="09">–°–µ–Ω—Ç—è–±—Ä—å</option>
          <option value="10">–û–∫—Ç—è–±—Ä—å</option>
          <option value="11">–ù–æ—è–±—Ä—å</option>
          <option value="12">–î–µ–∫–∞–±—Ä—å</option>
        </select>
      </div>
    </div>

    <div class="summary-cards grid">
      <div class="summary-card income">
        <span class="symbol">‚Üë</span>
        <div>
          <h3>–î–æ—Ö–æ–¥—ã</h3>
          <span id="totalIncome">0,00 ‚ÇΩ</span>
        </div>
      </div>
      
      <div class="summary-card expense">
        <span class="symbol">‚Üì</span>
        <div>
          <h3>–†–∞—Å—Ö–æ–¥—ã</h3>
          <span id="totalExpense">0,00 ‚ÇΩ</span>
        </div>
      </div>
      
      <div class="summary-card balance">
        <span class="symbol">‚öñÔ∏è</span>
        <div>
          <h3>–°–∞–ª—å–¥–æ</h3>
          <span id="totalBalance">0,00 ‚ÇΩ</span>
        </div>
      </div>
    </div>

    <div class="chart-section grid">
      <div class="chart-container">
        <canvas id="categoryChart"></canvas>
      </div>
      <div class="category-list" id="categoryDetails"></div>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω "–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏" -->
  <div class="screen" id="aboutScreen">
    <div class="about-container">
      <h2>ü¶Ü –ö—Ä—è–∫–ë—é–¥–∂–µ—Ç</h2>
      
      <div class="info-card">
        <p>–í–µ—Ä—Å–∏—è: <span id="versionInfo">–∑–∞–≥—Ä—É–∑–∫–∞...</span></p>
        <p>–ê–≤—Ç–æ—Ä: dituals758</p>
        <a href="https://github.com/dituals758/mbbla6" 
          target="_blank" 
          rel="noopener"
          class="github-link">
          <svg class="symbol" viewBox="0 0 24 24" style="width:20px;height:20px;">
            <path fill="currentColor" d="M12 2A10 10 0 002 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.8-.22 1.65-.33 2.5-.33.85 0 1.7.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"/>
          </svg>
          –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ GitHub
        </a>
      </div>

      <div class="info-card">
        <h3>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</h3>
        <ul>
          <li>–£—á–µ—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</li>
          <li>–û—Ñ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç–∞</li>
          <li>–í–∏–∑—É–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</li>
          <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="ios-tab-bar">
    <button class="tab-item active" data-screen="mainScreen" onclick="App.showScreen('mainScreen')">
      <svg class="symbol" viewBox="0 0 24 24">
        <path fill="currentColor" d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
      </svg>
      –û–ø–µ—Ä–∞—Ü–∏–∏
    </button>
    
    <button class="tab-item" data-screen="statsScreen" onclick="App.showScreen('statsScreen')">
      <svg class="symbol" viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.56-4.55c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.49 2.51-1.93 0-1.1-.9-2-2-2z"/>
      </svg>
      –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
    </button>

    <button class="tab-item" data-screen="aboutScreen" onclick="App.showScreen('aboutScreen')">
      <svg class="symbol" viewBox="0 0 24 24">
        <path fill="currentColor" d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/>
      </svg>
      –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
    </button>
  </nav>

  <div class="version-info">
    –í–µ—Ä—Å–∏—è: <span id="appVersion">–∑–∞–≥—Ä—É–∑–∫–∞...</span>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="./js/config.js"></script>
  <script type="module" src="./js/dom-elements.js"></script>
  <script type="module" src="./js/state.js"></script>
  <script type="module" src="./js/utils.js"></script>
  <script type="module" src="./js/service-worker.js"></script>
  <script type="module" src="./js/transactions.js"></script>
  <script type="module" src="./js/stats.js"></script>
  <script type="module" src="./js/ui.js"></script>
  <script type="module" src="https://dituals758.github.io/mbbla6/js/main.js"></script>
</body>
</html>